{"ast":null,"code":"import api from './axiosConfig';\nconst authService = {\n  login: async (email, password) => {\n    try {\n      const response = await api.post('/auth/login/', {\n        email,\n        password\n      });\n      const {\n        access,\n        refresh,\n        user\n      } = response.data;\n      localStorage.setItem('accessToken', access);\n      localStorage.setItem('refreshToken', refresh);\n      localStorage.setItem('userInfo', JSON.stringify(user));\n      return response.data;\n    } catch (error) {\n      var _error$response;\n      throw ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || {\n        message: 'An error occurred during login'\n      };\n    }\n  },\n  signup: async userData => {\n    try {\n      const response = await api.post('/auth/signup/', userData);\n      const {\n        access,\n        refresh,\n        user\n      } = response.data;\n      localStorage.setItem('accessToken', access);\n      localStorage.setItem('refreshToken', refresh);\n      localStorage.setItem('userInfo', JSON.stringify(user));\n      return response.data;\n    } catch (error) {\n      var _error$response2;\n      throw ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || {\n        message: 'An error occurred during signup'\n      };\n    }\n  },\n  logout: async () => {\n    try {\n      const refreshToken = localStorage.getItem('refreshToken');\n      if (refreshToken) {\n        await api.post('/auth/logout/', {\n          refresh: refreshToken\n        });\n      }\n    } catch (error) {\n      console.error('Logout error:', error);\n    } finally {\n      localStorage.removeItem('accessToken');\n      localStorage.removeItem('refreshToken');\n      localStorage.removeItem('userInfo');\n      window.location.href = '/login';\n    }\n  },\n  getCurrentUser: () => {\n    const userInfo = localStorage.getItem('userInfo');\n    return userInfo ? JSON.parse(userInfo) : null;\n  },\n  isAuthenticated: () => {\n    return !!localStorage.getItem('accessToken') && !!localStorage.getItem('refreshToken');\n  }\n};\nexport default authService;","map":{"version":3,"names":["api","authService","login","email","password","response","post","access","refresh","user","data","localStorage","setItem","JSON","stringify","error","_error$response","message","signup","userData","_error$response2","logout","refreshToken","getItem","console","removeItem","window","location","href","getCurrentUser","userInfo","parse","isAuthenticated"],"sources":["/Users/arvindsudarshan/Documents/Hindi-QA/frontend/src/services/authService.js"],"sourcesContent":["import api from './axiosConfig';\n\nconst authService = {\n  login: async (email, password) => {\n    try {\n      const response = await api.post('/auth/login/', {\n        email,\n        password,\n      });\n      \n      const { access, refresh, user } = response.data;\n      localStorage.setItem('accessToken', access);\n      localStorage.setItem('refreshToken', refresh);\n      localStorage.setItem('userInfo', JSON.stringify(user));\n      \n      return response.data;\n    } catch (error) {\n      throw error.response?.data || { message: 'An error occurred during login' };\n    }\n  },\n\n  signup: async (userData) => {\n    try {\n      const response = await api.post('/auth/signup/', userData);\n      \n      const { access, refresh, user } = response.data;\n      localStorage.setItem('accessToken', access);\n      localStorage.setItem('refreshToken', refresh);\n      localStorage.setItem('userInfo', JSON.stringify(user));\n      \n      return response.data;\n    } catch (error) {\n      throw error.response?.data || { message: 'An error occurred during signup' };\n    }\n  },\n\n  logout: async () => {\n    try {\n      const refreshToken = localStorage.getItem('refreshToken');\n      if (refreshToken) {\n        await api.post('/auth/logout/', { refresh: refreshToken });\n      }\n    } catch (error) {\n      console.error('Logout error:', error);\n    } finally {\n      localStorage.removeItem('accessToken');\n      localStorage.removeItem('refreshToken');\n      localStorage.removeItem('userInfo');\n      window.location.href = '/login';\n    }\n  },\n\n  getCurrentUser: () => {\n    const userInfo = localStorage.getItem('userInfo');\n    return userInfo ? JSON.parse(userInfo) : null;\n  },\n\n  isAuthenticated: () => {\n    return !!localStorage.getItem('accessToken') && !!localStorage.getItem('refreshToken');\n  }\n};\n\nexport default authService; "],"mappings":"AAAA,OAAOA,GAAG,MAAM,eAAe;AAE/B,MAAMC,WAAW,GAAG;EAClBC,KAAK,EAAE,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,KAAK;IAChC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAML,GAAG,CAACM,IAAI,CAAC,cAAc,EAAE;QAC9CH,KAAK;QACLC;MACF,CAAC,CAAC;MAEF,MAAM;QAAEG,MAAM;QAAEC,OAAO;QAAEC;MAAK,CAAC,GAAGJ,QAAQ,CAACK,IAAI;MAC/CC,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEL,MAAM,CAAC;MAC3CI,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEJ,OAAO,CAAC;MAC7CG,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC,CAAC;MAEtD,OAAOJ,QAAQ,CAACK,IAAI;IACtB,CAAC,CAAC,OAAOK,KAAK,EAAE;MAAA,IAAAC,eAAA;MACd,MAAM,EAAAA,eAAA,GAAAD,KAAK,CAACV,QAAQ,cAAAW,eAAA,uBAAdA,eAAA,CAAgBN,IAAI,KAAI;QAAEO,OAAO,EAAE;MAAiC,CAAC;IAC7E;EACF,CAAC;EAEDC,MAAM,EAAE,MAAOC,QAAQ,IAAK;IAC1B,IAAI;MACF,MAAMd,QAAQ,GAAG,MAAML,GAAG,CAACM,IAAI,CAAC,eAAe,EAAEa,QAAQ,CAAC;MAE1D,MAAM;QAAEZ,MAAM;QAAEC,OAAO;QAAEC;MAAK,CAAC,GAAGJ,QAAQ,CAACK,IAAI;MAC/CC,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEL,MAAM,CAAC;MAC3CI,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEJ,OAAO,CAAC;MAC7CG,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC,CAAC;MAEtD,OAAOJ,QAAQ,CAACK,IAAI;IACtB,CAAC,CAAC,OAAOK,KAAK,EAAE;MAAA,IAAAK,gBAAA;MACd,MAAM,EAAAA,gBAAA,GAAAL,KAAK,CAACV,QAAQ,cAAAe,gBAAA,uBAAdA,gBAAA,CAAgBV,IAAI,KAAI;QAAEO,OAAO,EAAE;MAAkC,CAAC;IAC9E;EACF,CAAC;EAEDI,MAAM,EAAE,MAAAA,CAAA,KAAY;IAClB,IAAI;MACF,MAAMC,YAAY,GAAGX,YAAY,CAACY,OAAO,CAAC,cAAc,CAAC;MACzD,IAAID,YAAY,EAAE;QAChB,MAAMtB,GAAG,CAACM,IAAI,CAAC,eAAe,EAAE;UAAEE,OAAO,EAAEc;QAAa,CAAC,CAAC;MAC5D;IACF,CAAC,CAAC,OAAOP,KAAK,EAAE;MACdS,OAAO,CAACT,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;IACvC,CAAC,SAAS;MACRJ,YAAY,CAACc,UAAU,CAAC,aAAa,CAAC;MACtCd,YAAY,CAACc,UAAU,CAAC,cAAc,CAAC;MACvCd,YAAY,CAACc,UAAU,CAAC,UAAU,CAAC;MACnCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;IACjC;EACF,CAAC;EAEDC,cAAc,EAAEA,CAAA,KAAM;IACpB,MAAMC,QAAQ,GAAGnB,YAAY,CAACY,OAAO,CAAC,UAAU,CAAC;IACjD,OAAOO,QAAQ,GAAGjB,IAAI,CAACkB,KAAK,CAACD,QAAQ,CAAC,GAAG,IAAI;EAC/C,CAAC;EAEDE,eAAe,EAAEA,CAAA,KAAM;IACrB,OAAO,CAAC,CAACrB,YAAY,CAACY,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,CAACZ,YAAY,CAACY,OAAO,CAAC,cAAc,CAAC;EACxF;AACF,CAAC;AAED,eAAetB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}